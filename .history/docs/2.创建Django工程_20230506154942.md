# 创建 `Django` 工程

## 一、虚拟环境下安装依赖包

* 安装稳定的`Django`版本

  ```bash
  pip install django==2.2.5
  ```

  注意：这里不能使用 `sudo` 命令，否则安装到的不是虚拟环境下的目录

* 查看环境内已安装包

  ```bash
  pip list
  ```

## 二、创建工程

进入虚拟环境，使用

```bash
django-admin startproject bookmanager
```

创建一个名为`bookmanager`的工程

```bash
# 工程结构
bookmanager/
├── bookmanager
│   ├── __init__.py
│   ├── settings.py		项目整体的配置文件
│   ├── urls.py			项目的URL(路由)配置文件
│   └── wsgi.py			项目与WSGI兼容的Web服务器入口
└── manage.py			项目管理文件，通过它管理项目
```

在虚拟环境中运行开发服务器

```bash
python manage.py runserver ip:端口
# 或
python manage.py runserver
```

可以不写`IP`和端口，默认`ip`是127.0.0.1，默认端口是8000，

启动后可见如下信息：

```bash
Watching for file changes with StatReloader
Performing system checks...

System check identified no issues (0 silenced).

You have 17 unapplied migration(s). Your project may not work properly until you apply the migrations for app(s): admin, auth, contenttypes, sessions.
Run 'python manage.py migrate' to apply them.

May 06, 2023 - 07:13:20
Django version 2.2.5, using settings 'bookmanager.settings'
Starting development server at http://127.0.0.1:8000/
Quit the server with CONTROL-C.
```

说明启动成功，访问 `http://127.0.0.1:8000`，看到如下页面，说明启动成功

<img src="../static/1.png" />

> 如果是在`ubuntu`中启动的项目，需要windows电脑下访问，即工程所在主机(10.10.22.232)与访问的主机(10.10.22.141)不是同一台电脑，需要做如下修改：
>
> 1. 在 `bookmanager\bookmanager\settings.py`文件下，修改 `ALLOWED_HOSTS` 的值未 `['*']`或`['10.10.22.232', '10.10.22.141']`；
> 2. 启动工程命令为 `python manage.py runserver 10.10.22.232:8000`或`python manage.py runserver 0.0.0.0:8000`；
> 3. 在主机`10.10.22.114`的浏览器中输入`10.10.22.232:8000`就可以看到启动成功的页面了。

## 三、创建子应用

